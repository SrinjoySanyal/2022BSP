extends ../components/layout

block content
  if user
    link(rel='stylesheet', href="https://cdn.quilljs.com/1.0.0/quill.snow.css")
    button#save Save
    div#toolbar
    div#editor
      p Hello World
    script(type='text/javascript', src="https://cdn.quilljs.com/1.0.0/quill.js")
    script(type='text/javascript', src="https://cdn.quilljs.com/1.3.6/quill.js")
    script(type='text/javascript', src="https://cdn.quilljs.com/1.3.6/quill.min.js")
    script(type='text/javascript', src="https://requirejs.org/docs/release/2.3.6/minified/require.js")
    script(type='text/javascript').
      var quill = new Quill('#editor', {
        theme:'snow'
      });
      
      
      var Delta = Quill.import('delta');
      
      function createVersion1(){
        var Version1 = new Array();
        const delta = quill.getContents();
        delta.eachLine((line) => Version1.push(line));
        alert(JSON.stringify(Version1));
      }

      function mergingPreparation(version1, version0){
        let array1 = [];
        let index1 = 0;

        for(element in version0){
          if(element in version1.slice(index1 + 1, version1.length - 1)){
          array1.push(version1.indexOf(element));
          index1 = indexOf(element);
          }
        }

      }

      function totalFunction(){
        createVersion1();
      }

      document.querySelector('#save').addEventListener('click', () => createVersion1()); //just for debugging purpose

     
